<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>UBA</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../../plugins/fontawesome-free/css/all.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../../dist/css/adminlte.min.css">
</head>
<body class="hold-transition sidebar-mini">
    <div class="wrapper">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
            </ul>


            <!-- Right navbar links -->
            <ul class="navbar-nav ml-auto">
                <!-- Navbar Search -->
                <li class="nav-item">
                    <a class="nav-link" data-widget="navbar-search" href="#" role="button">
                        <i class="fas fa-search"></i>
                    </a>
                    <div class="navbar-search-block">
                        <form class="form-inline">
                            <div class="input-group input-group-sm">
                                <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                                <div class="input-group-append">
                                    <button class="btn btn-navbar" type="submit">
                                        <i class="fas fa-search"></i>
                                    </button>
                                    <button class="btn btn-navbar" type="button" data-widget="navbar-search">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </li>

                <!-- Messages Dropdown Menu -->
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="far fa-comments"></i>
                        <span class="badge badge-danger navbar-badge">3</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                        <a href="#" class="dropdown-item">
                            <!-- Message Start -->
                            <div class="media">
                                <img src="../../dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle">
                                <div class="media-body">
                                    <h3 class="dropdown-item-title">
                                        Brad Diesel
                                        <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>
                                    </h3>
                                    <p class="text-sm">Call me whenever you can...</p>
                                    <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                </div>
                            </div>
                            <!-- Message End -->
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <!-- Message Start -->
                            <div class="media">
                                <img src="../../dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3">
                                <div class="media-body">
                                    <h3 class="dropdown-item-title">
                                        John Pierce
                                        <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span>
                                    </h3>
                                    <p class="text-sm">I got your message bro</p>
                                    <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                </div>
                            </div>
                            <!-- Message End -->
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <!-- Message Start -->
                            <div class="media">
                                <img src="../../dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3">
                                <div class="media-body">
                                    <h3 class="dropdown-item-title">
                                        Nora Silvester
                                        <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span>
                                    </h3>
                                    <p class="text-sm">The subject goes here</p>
                                    <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                </div>
                            </div>
                            <!-- Message End -->
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
                    </div>
                </li>
                <!-- Notifications Dropdown Menu -->
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="far fa-bell"></i>
                        <span class="badge badge-warning navbar-badge">15</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                        <span class="dropdown-item dropdown-header">15 Notifications</span>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-envelope mr-2"></i> 4 new messages
                            <span class="float-right text-muted text-sm">3 mins</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-users mr-2"></i> 8 friend requests
                            <span class="float-right text-muted text-sm">12 hours</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-file mr-2"></i> 3 new reports
                            <span class="float-right text-muted text-sm">2 days</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-widget="fullscreen" href="#" role="button">
                        <i class="fas fa-expand-arrows-alt"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button">
                        <i class="fas fa-th-large"></i>
                    </a>
                </li>
            </ul>
        </nav>
        <!-- navigation -->
        <center>
            <nav class="navbar navbar-expand-lg navbar-blue bg-gray-light">


                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav">

                        <a class="nav-item nav-link" href="/Home/data">
                            Data
                        </a>
                        <a class="nav-item nav-link" href="/Home/modeling">
                            Models
                        </a>
                        <a class="nav-item nav-link" href="/Home/anomalies">
                            Anomalies
                        </a>
                        <a class="nav-item nav-link" href="/Home/cases">
                            Cases
                        </a>
                      
                    </div>
                </div>
            </nav>
        </center>
        <!-- end navigation -->
        <!-- system log -->
        <div class="container">
            <div class="row">
                <div class="col-sm" id="system_log">
                    <div class="card">
                        <div class="card-body">
                            <SystemLog></SystemLog>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end system log -->


            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        <hr>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm">
                        <div class="card">
                            <div class="card-body">
                                <h2><b>Summary</b></h2>
                                <hr>
                                <div class="row">
                                    <div class="col-sm">
                                        <h5>
                                            Monitored Users:
                                            <span class="badge badge-info">10</span>
                                        </h5>
                                    </div>
                                    <div class="col-sm">
                                        <h5>
                                            High Risk:
                                            <span class="badge badge-info">10</span>
                                        </h5>
                                    </div>
                                    <div class="col-sm">
                                        <h5>
                                            Users Discovered from events:
                                            <span class="badge badge-info">10</span>
                                        </h5>
                                    </div>
                                    <div class="col-sm">
                                        <h5>
                                            Users imported from directory:
                                            <span class="badge badge-info">10</span>
                                        </h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.navbar -->
            <!-- Main content -->
            <section class="content">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <!-- interactive chart -->
                            <div class="card card-primary card-outline">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <i class="far fa-chart-bar"></i>
                                        Risk User
                                    </h3>

                                    <div class="card-tools">
                                        Real time
                                        <div class="btn-group" id="realtime" data-toggle="btn-toggle">
                                            <button type="button" class="btn btn-default btn-sm active" data-toggle="on">On</button>
                                            <button type="button" class="btn btn-default btn-sm" data-toggle="off">Off</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="interactive" style="height: 300px;"></div>
                                </div>
                                <!-- /.card-body-->
                            </div>
                            <!-- /.card -->

                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->

                    <div class="row">
                        <div class="col-md-6">
                            <!-- Line chart -->
                            <div class="card card-primary card-outline">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <i class="far fa-chart-bar"></i>
                                        Anamolies
                                    </h3>

                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                        <button type="button" class="btn btn-tool" data-card-widget="remove">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="line-chart" style="height: 300px;"></div>
                                </div>
                                <!-- /.card-body-->
                            </div>
                            <!-- /.card -->
                            <!-- Area chart -->
                            <div class="card card-primary card-outline">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <i class="far fa-chart-bar"></i>
                                        Data
                                    </h3>

                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                        <button type="button" class="btn btn-tool" data-card-widget="remove">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="area-chart" style="height: 338px;" class="full-width-chart"></div>
                                </div>
                                <!-- /.card-body-->
                            </div>
                            <!-- /.card -->

                        </div>
                        <!-- /.col -->

                        <div class="col-md-6">
                            <!-- Bar chart -->
                            <div class="card card-primary card-outline">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <i class="far fa-chart-bar"></i>
                                        Cases
                                    </h3>

                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                        <button type="button" class="btn btn-tool" data-card-widget="remove">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="bar-chart" style="height: 300px;"></div>
                                </div>
                                <!-- /.card-body-->
                            </div>
                            <!-- /.card -->
                            <!-- Donut chart -->
                            <div class="card card-primary card-outline">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <i class="far fa-chart-bar"></i>
                                        Network Threats
                                    </h3>

                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                        <button type="button" class="btn btn-tool" data-card-widget="remove">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="donut-chart" style="height: 300px;"></div>
                                </div>
                                <!-- /.card-body-->
                            </div>
                            <!-- /.card -->
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                </div><!-- /.container-fluid -->
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->

        <footer class="main-footer">
            <div class="float-right d-none d-sm-block">

            </div>

        </footer>

        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
        </aside>
        @section scripts {
            <script src="../../plugins/jquery/jquery.min.js"></script>
            <!-- Bootstrap 4 -->
            <script src="../../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
            <!-- AdminLTE App -->
            <script src="../../dist/js/adminlte.min.js"></script>
            <!-- FLOT CHARTS -->
            <script src="../../plugins/flot/jquery.flot.js"></script>
            <!-- FLOT RESIZE PLUGIN - allows the chart to redraw when the window is resized -->
            <script src="../../plugins/flot/plugins/jquery.flot.resize.js"></script>
            <!-- FLOT PIE PLUGIN - also used to draw donut charts -->
            <script src="../../plugins/flot/plugins/jquery.flot.pie.js"></script>
            <!-- AdminLTE for demo purposes -->
            <script src="../../dist/js/demo.js"></script>
            <!-- Page specific script -->
            <script>
    $(function () {
                    /*
                     * Flot Interactive Chart
                     * -----------------------
                     */
                    // We use an inline data source in the example, usually data would
                    // be fetched from a server
                    var data = [],
                        totalPoints = 100

                    function getRandomData() {

                        if (data.length > 0) {
                            data = data.slice(1)
                        }

                        // Do a random walk
                        while (data.length < totalPoints) {

                            var prev = data.length > 0 ? data[data.length - 1] : 50,
                                y = prev + Math.random() * 10 - 5

                            if (y < 0) {
                                y = 0
                            } else if (y > 100) {
                                y = 100
                            }

                            data.push(y)
                        }

                        // Zip the generated y values with the x values
                        var res = []
                        for (var i = 0; i < data.length; ++i) {
                            res.push([i, data[i]])
                        }

                        return res
                    }

                    var interactive_plot = $.plot('#interactive', [
                        {
                            data: getRandomData(),
                        }
                    ],
                        {
                            grid: {
                                borderColor: '#f3f3f3',
                                borderWidth: 1,
                                tickColor: '#f3f3f3'
                            },
                            series: {
                                color: '#3c8dbc',
                                lines: {
                                    lineWidth: 2,
                                    show: true,
                                    fill: true,
                                },
                            },
                            yaxis: {
                                min: 0,
                                max: 100,
                                show: true
                            },
                            xaxis: {
                                show: true
                            }
                        }
                    )

                    var updateInterval = 500 //Fetch data ever x milliseconds
                    var realtime = 'on' //If == to on then fetch data every x seconds. else stop fetching
                    function update() {

                        interactive_plot.setData([getRandomData()])

                        // Since the axes don't change, we don't need to call plot.setupGrid()
                        interactive_plot.draw()
                        if (realtime === 'on') {
                            setTimeout(update, updateInterval)
                        }
                    }

                    //INITIALIZE REALTIME DATA FETCHING
                    if (realtime === 'on') {
                        update()
                    }
                    //REALTIME TOGGLE
                    $('#realtime .btn').click(function () {
                        if ($(this).data('toggle') === 'on') {
                            realtime = 'on'
                        }
                        else {
                            realtime = 'off'
                        }
                        update()
                    })
                    /*
                     * END INTERACTIVE CHART
                     */


                    /*
                     * LINE CHART
                     * ----------
                     */
                    //LINE randomly generated data

                    var sin = [],
                        cos = []
                    for (var i = 0; i < 14; i += 0.5) {
                        sin.push([i, Math.sin(i)])
                        cos.push([i, Math.cos(i)])
                    }
                    var line_data1 = {
                        data: sin,
                        color: '#3c8dbc'
                    }
                    var line_data2 = {
                        data: cos,
                        color: '#00c0ef'
                    }
                    $.plot('#line-chart', [line_data1, line_data2], {
                        grid: {
                            hoverable: true,
                            borderColor: '#f3f3f3',
                            borderWidth: 1,
                            tickColor: '#f3f3f3'
                        },
                        series: {
                            shadowSize: 0,
                            lines: {
                                show: true
                            },
                            points: {
                                show: true
                            }
                        },
                        lines: {
                            fill: false,
                            color: ['#3c8dbc', '#f56954']
                        },
                        yaxis: {
                            show: true
                        },
                        xaxis: {
                            show: true
                        }
                    })
                    //Initialize tooltip on hover
                    $('<div class="tooltip-inner" id="line-chart-tooltip"></div>').css({
                        position: 'absolute',
                        display: 'none',
                        opacity: 0.8
                    }).appendTo('body')
                    $('#line-chart').bind('plothover', function (event, pos, item) {

                        if (item) {
                            var x = item.datapoint[0].toFixed(2),
                                y = item.datapoint[1].toFixed(2)

                            $('#line-chart-tooltip').html(item.series.label + ' of ' + x + ' = ' + y)
                                .css({
                                    top: item.pageY + 5,
                                    left: item.pageX + 5
                                })
                                .fadeIn(200)
                        } else {
                            $('#line-chart-tooltip').hide()
                        }

                    })
                    /* END LINE CHART */

                    /*
                     * FULL WIDTH STATIC AREA CHART
                     * -----------------
                     */
                    var areaData = [[2, 88.0], [3, 93.3], [4, 102.0], [5, 108.5], [6, 115.7], [7, 115.6],
                    [8, 124.6], [9, 130.3], [10, 134.3], [11, 141.4], [12, 146.5], [13, 151.7], [14, 159.9],
                    [15, 165.4], [16, 167.8], [17, 168.7], [18, 169.5], [19, 168.0]]
                    $.plot('#area-chart', [areaData], {
                        grid: {
                            borderWidth: 0
                        },
                        series: {
                            shadowSize: 0, // Drawing is faster without shadows
                            color: '#00c0ef',
                            lines: {
                                fill: true //Converts the line chart to area chart
                            },
                        },
                        yaxis: {
                            show: false
                        },
                        xaxis: {
                            show: false
                        }
                    })

                    /* END AREA CHART */

                    /*
                     * BAR CHART
                     * ---------
                     */

                    var bar_data = {
                        data: [[1, 10], [2, 8], [3, 4], [4, 13], [5, 17], [6, 9]],
                        bars: { show: true }
                    }
                    $.plot('#bar-chart', [bar_data], {
                        grid: {
                            borderWidth: 1,
                            borderColor: '#f3f3f3',
                            tickColor: '#f3f3f3'
                        },
                        series: {
                            bars: {
                                show: true, barWidth: 0.5, align: 'center',
                            },
                        },
                        colors: ['#3c8dbc'],
                        xaxis: {
                            ticks: [[1, 'January'], [2, 'February'], [3, 'March'], [4, 'April'], [5, 'May'], [6, 'June']]
                        }
                    })
                    /* END BAR CHART */

                    /*
                     * DONUT CHART
                     * -----------
                     */

                    var donutData = [
                        {
                            label: 'Series2',
                            data: 30,
                            color: '#3c8dbc'
                        },
                        {
                            label: 'Series3',
                            data: 20,
                            color: '#0073b7'
                        },
                        {
                            label: 'Series4',
                            data: 50,
                            color: '#00c0ef'
                        }
                    ]
                    $.plot('#donut-chart', donutData, {
                        series: {
                            pie: {
                                show: true,
                                radius: 1,
                                innerRadius: 0.5,
                                label: {
                                    show: true,
                                    radius: 2 / 3,
                                    formatter: labelFormatter,
                                    threshold: 0.1
                                }

                            }
                        },
                        legend: {
                            show: false
                        }
                    })
                    /*
                     * END DONUT CHART
                     */

                })

                /*
                 * Custom Label formatter
                 * ----------------------
                 */
                function labelFormatter(label, series) {
                    return '<div style="font-size:13px; text-align:center; padding:2px; color: #fff; font-weight: 600;">'
                        + label
                        + '<br>'
                        + Math.round(series.percent) + '%</div>'
                }</script>

        }

</body>
</html>
